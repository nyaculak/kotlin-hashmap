group 'com.github.nyaculak'
version '1.0-SNAPSHOT'

buildscript {
    ext.kotlin_version = '1.0.5'

    repositories {
        mavenCentral()
    }
    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
    }
}

apply plugin: 'kotlin'

repositories {
    mavenCentral()
}

dependencies {
    compile "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"
    testCompile group: 'org.testng', name: 'testng', version: '6.11'
    testCompile group: 'org.assertj', name: 'assertj-core', version: '3.8.0'
}

test {
    useTestNG()
    testLogging.showStandardStreams = true

    minHeapSize = "128m"
    maxHeapSize = "512m"
    jvmArgs '-XX:MaxPermSize=256m'

    beforeTest {
        descriptor -> logger.lifecycle("Running test: " + descriptor)
    }

    onOutput {
        descriptor, event -> logger.lifecycle
            ("Test: " + descriptor + " produced standard out/err: "
                    + event.message )
    }
}
